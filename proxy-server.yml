# Make the application available at http://localhost:8080
# These are default settings, but we add them for clarity.

 # cloud:
  ##      uri: http://localhost:8888
       



server:
  servlet:
    context-path: /
  port: 9999

# Configure the Authorization Server and User Info Resource Server details

security:
  oauth2:
    client:
      accessTokenUri: http://localhost:8081/authorization-server/oauth/token
      userAuthorizationUri: http://localhost:8081/authorization-server/oauth/authorize
      clientId: R2dpxQ3vPrtfgF72
      clientSecret: fDw7Mpkk5czHNuSRtmhGmAGL42CaxQB9 
      grant-type: password
    resource:
      userInfoUri: http://localhost:9999/user/me

    

# Proxies the calls to http://localhost:8080/api/* to our REST service at http://localhost:8081/*
# and automatically includes our OAuth2 token in the request headers
zuul:
  sensitiveHeaders: Cookie,Set-Cookie
  routes:
    resource:

      #product
    product:
      path: /product-service/**
      sensitiveHeaders:
      serviceId: product-service 
    #  strip-prefix: false  
        #profile
    profile:
      path: /profile-service/**
      sensitiveHeaders: 
      serviceId: profile-service  
     # strip-prefix: false   
      
    #operation
    operation:
      path: /operation-service/**
      serviceId: operation-service 
      
         #operation
    user:
      path: /user-service/**
      serviceId: user-service 
      
       #auth
    auth-server:
      path: http://localhost:7070/createUser
      serviceId: authorization-server   
      
   #operation
    client-space:
      path: /client-space-service/**
      serviceId: client-space-service           
      
    
# Make sure the OAuth2 token is only relayed when using the internal API,
# do not pass any authentication to the external API
proxy:
  auth:
    routes:
      profile: oauth2
      product: oauth2
      
      
      
      
ribbon:
  eureka:
    enabled: true   
      
      
eureka:
  client:
    serviceUrl:
      defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}
    healthcheck:
      enabled: true
  instance:
    prefer-ip-address: true      
      
